<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Fruit Color Quiz - Game Over</title>
  <!-- <link rel="stylesheet" href="/styles/main.css"> -->
  <link rel="stylesheet" href="/public/styles/quiz.css">
</head>

<% const user_login = locals.user %>

<body id="app">
  <div class="game-over-container">
    <div class="result-header">
      <h1>Game Over!</h1>
      <div class="user-score">
        <% if (user_login && user_login !== "") { %>
          <span><%= user_login.toUpperCase() %> Total Score: </span>
        <% } else { %>
          <span>Your Score: </span>
        <% } %>
        <span class="score-number"><%= locals.totalScore %></span>
      </div>
    </div>
    
    <div class="answer-result">
      <div class="wrong-answer">Wrong Answer</div>
      <h2 class="fruit-name"><%=question.fruit_name %></h2>
      <p class="color-label">The correct color is</p>
      <div class="fruit-color" style="color: <%= question.fruit_color %>;">
        <%= question.fruit_color %>
      </div>
    </div>
    
    <div class="image-container">
      <% if (locals.image && locals.image.webformatURL) { %>
        <img src="<%= locals.image.webformatURL %>" alt="<%= question.fruit_name %>" />
      <% } else { %>
        <div class="no-image-msg">
          <h3>No image available for this fruit</h3>
        </div>
      <% } %>
    </div>
    
    <div>
      <a href="/" class="restart-button">Play Again</a>
      
      <% if (user_login === "") { %>
        <p class="login-hint">Log in to save your score to the scoreboard</p>
      <% } %>
    </div>
  </div>

  <%- include('partials/footer.ejs'); -%>
</body>

</html>